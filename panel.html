<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hack Panel</title>
    <link rel="stylesheet" href="panel.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            padding: 0;
            background: black;
            color: lime;
            overflow: hidden;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #141414;
            padding: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }

        .nav-logo {
            font-size: 18px;
            color: #00ff00;
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 15px;
            font-size: 14px;
        }

        .nav-links li a {
            color: #00ff00;
            text-decoration: none;
            cursor: pointer;
        }

        .profile-section {
            text-align: center;
            margin-top: 120px; /* Adjusted for fixed navbar */
            color: #00ff00;
        }

        .profile-section img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 15px;
        }

        .profile-section p {
            margin: 5px 0;
            font-size: 1.2em;
        }

        .sign-out-btn, .reset-password-btn {
            padding: 10px;
            background: #00cc00;
            color: black;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        .sign-out-btn:hover, .reset-password-btn:hover {
            background: #009900;
        }

        .command-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://media.giphy.com/media/l3vR93gi6sXyefhwM/giphy.gif') repeat;
            opacity: 0.1;
            z-index: -1;
        }

        .time-display {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .time-box {
            padding: 10px;
            background: #333;
            border-radius: 5px;
            width: 150px;
            text-align: center;
            color: #00ff00;
        }

        .time-box h3 {
            margin: 0;
            font-size: 16px;
        }

        .time-box p {
            font-size: 14px;
        }

        footer {
            background: #141414;
            color: white;
            text-align: center;
            padding: 10px 0;
            position: absolute;
            bottom: 0;
            width: 100%;
        }

        /* Session Device Hack Section */
        .device-hack-section {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 50px;
        }

        .device-card {
            background: #333;
            border-radius: 8px;
            padding: 20px;
            width: 25%;
            margin: 10px;
            text-align: center;
            color: lime;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .device-card img {
            width: 50px;
            height: 50px;
            margin-bottom: 10px;
        }

        .device-card button {
            padding: 10px;
            background: #00cc00;
            color: black;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        .device-card button:hover {
            background: #009900;
        }

        /* Mobile/Tablet Responsiveness */
        @media (max-width: 768px) {
            .nav-links {
                display: block;
                text-align: center;
            }

            .nav-links li {
                margin: 10px 0;
            }

            .device-card {
                width: 45%;
            }
        }

        @media (max-width: 480px) {
            .device-card {
                width: 90%;
            }

            .navbar {
                flex-direction: column;
                padding: 20px;
            }
        }

    </style>
</head>
<body>
    <div class="command-background"></div>

    <nav class="navbar">
        <div class="nav-logo">Hack Panel</div>
        <ul class="nav-links">
            <li><a href="#" id="home-btn">Home</a></li>
            <li><a href="#">Devices 1</a></li>
            <li><a href="#">Devices 2</a></li>
            <li><a href="#">Devices 3</a></li>
        </ul>
    </nav>

    <!-- Profile Section -->
    <div class="profile-section">
        <img id="profile-photo" src="default-avatar.png" alt="Profile Photo">
        <p id="user-email">Email: Not logged in</p>
        <button class="sign-out-btn" id="sign-out-btn" style="display: none;">Sign Out</button>
        <button class="reset-password-btn" id="reset-password-btn" style="display: none;">Reset Password</button>
    </div>

    <!-- Session Device Hack Section -->
    <div class="device-hack-section">
        <!-- Device 1 -->
        <div class="device-card">
            <img src="device-icon.png" alt="Device Icon">
            <h4>Device 1</h4>
            <button id="hack-device-1-btn">Hack Device</button>
            <button id="hack-device-1-btn">Hack Open</button>
        </div>
    
    <div class="time-display">
        <div class="time-box">
            <h3>Sri Lanka</h3>
            <p id="sri-lanka-time"></p>
        </div>
        <div class="time-box">
            <h3>USA</h3>
            <p id="usa-time"></p>
        </div>
        <div class="time-box">
            <h3>Dubai</h3>
            <p id="dubai-time"></p>
        </div>
    </div>

    <footer>
        &copy; Copyright Idura Buddika. All rights reserved.
    </footer>

    <script type="module">
        import { getAuth, signOut, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-auth.js";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js";

        // Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyD-DcQ_SQM2j4wQi0HboeeAtXIxyNgYDes",
            authDomain: "paneltesting-1277a.firebaseapp.com",
            projectId: "paneltesting-1277a",
            storageBucket: "paneltesting-1277a.firebasestorage.app",
            messagingSenderId: "439015951804",
            appId: "1:439015951804:web:57222a8d75e2b266efafb9",
            measurementId: "G-B5S3KPJ4V2"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        // Update profile UI with user data
        auth.onAuthStateChanged(user => {
            if (user) {
                document.getElementById("user-email").innerText = "Email: " + user.email;
                const photoURL = user.photoURL || "default-avatar.png";
                document.getElementById("profile-photo").src = photoURL;
                document.getElementById("sign-out-btn").style.display = "inline-block";
                document.getElementById("reset-password-btn").style.display = "inline-block";
            } else {
                document.getElementById("user-email").innerText = "Email: Not logged in";
                document.getElementById("sign-out-btn").style.display = "none";
                document.getElementById("reset-password-btn").style.display = "none";
            }
        });

        // Sign out functionality
        document.getElementById("sign-out-btn").addEventListener("click", () => {
            signOut(auth).then(() => {
                alert("Sign out successful!");
                window.location.href = "login.html"; // Redirect to login page
            }).catch((error) => {
                alert(error.message);
            });
        });

        // Reset password functionality
        document.getElementById("reset-password-btn").addEventListener("click", () => {
            const email = auth.currentUser.email;
            sendPasswordResetEmail(auth, email)
                .then(() => {
                    alert("Password reset email sent.");
                })
                .catch((error) => {
                    alert(error.message);
                });
        });

        // Device 1 Button functionality (redirect to d.html)
        document.getElementById("hack-device-1-btn").addEventListener("click", () => {
            window.location.href = "d.html";  // Redirect to d.html page
        });

        // Real-time time updates for different locations
        function updateTime() {
            const sriLankaTime = new Date().toLocaleString("en-GB", { timeZone: "Asia/Colombo" });
            const usaTime = new Date().toLocaleString("en-US", { timeZone: "America/New_York" });
            const dubaiTime = new Date().toLocaleString("en-GB", { timeZone: "Asia/Dubai" });

            document.getElementById("sri-lanka-time").innerText = sriLankaTime;
            document.getElementById("usa-time").innerText = usaTime;
            document.getElementById("dubai-time").innerText = dubaiTime;
        }

        // Update the time every second
        setInterval(updateTime, 1000);
    </script>
</body>
</html>
